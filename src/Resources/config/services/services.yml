services:
    Styla\CmsIntegration\Twig\Extension\StylaModuleContentTwigExtension:
        arguments:
            $logger: '@logger'
        tags:
            - { name: "twig.extension" }

    Styla\CmsIntegration\ArgumentValueResolver\StylaPageArgumentValueResolver:
        tags:
            - { name: controller.argument_value_resolver, priority: 25 }

    Styla\CmsIntegration\UrlProvider\StylaPagesUrlProvider:
        arguments:
            $stylaPagesRepository: '@styla_cms_page.repository'
            $configuration: '@Styla\CmsIntegration\Configuration\ConfigurationInterface'
        tags:
            - { name: shopware.sitemap_url_provider }

    styla_cms_integration.routing.router.default:
        class: Styla\CmsIntegration\Routing\StylaDefaultRouterDecorator
        decorates: 'router.default'
        parent: 'router.default'
        calls:
            - method: 'setGeneratorDecoratorFactory'
              arguments:
                $generatorDecoratorFactory: '@Styla\CmsIntegration\Routing\StylaUrlGeneratorFactory'
        arguments:
            $container: '@service_container'

    Styla\CmsIntegration\Routing\StylaUrlGeneratorFactory:
        arguments:
            $requestStack: '@request_stack'
            $stylaPageRepository: '@styla_cms_page.repository'
            $logger: '@logger'
